(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{532:function(t,e,a){},548:function(t,e,a){"use strict";a.r(e);var n=a(1),r=a.n(n),s=a(62),i=a.n(s),o=a(3),c=a(70),p='{{#accounts}}\n<div class="list-item" action="ftp-account" path="{{path}}" username="{{username}}" password="{{password}}"\n  hostname="{{hostname}}" port="{{port}}" id="{{id}}">\n  <span class="icon person"></span>\n  <div class="container">\n    <div class="text">\n      <span>{{username}}@{{hostname}}</span>\n    </div>\n  </div>\n  <span class="icon edit" action="edit"></span>\n  <span class="icon clearclose" action="remove"></span>\n</div>\n{{/accounts}}\n<div class="list-item" action="add-account">\n  <span class="icon add"></span>\n  <div class="container">\n    <div class="text">\n      <span>Add FTP account</span>\n    </div>\n  </div>\n</div>',d=(a(532),a(198)),u=a(5),l=a(457),m=a(187);e.default=function(){var t=JSON.parse(localStorage.ftpaccounts||"[]"),e=r()("span",{className:"icon search",attr:{action:"search"}}),a=Object(c.a)("FTP Accounts"),n=o.a.credentials,s=r.a.parse(i.a.render('<div class="main list" id="ftp-accounts">{{{list}}}</div>',{list:i.a.render(p,{accounts:h()})}));function v(e,a,r,c,d,l){(function(t,e,a,n){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:21;return u.a.multiPrompt("FTP login",[{id:"username",placeholder:"username (optional)",type:"text",value:t},{id:"password",placeholder:"password (optional)",type:"password",value:e},{id:"hostname",placeholder:"hostname",type:"text",required:!0,value:a},{id:"path",placeholder:"path (optional)",type:"text",value:n},{id:"port",placeholder:"port (optional)",type:"number",value:r}])})(e,a,r,c,d,l).then((function(e){var a=e.username,r=e.password,c=e.hostname,d=e.port,u=e.path;l&&f(l),Array.isArray(t)&&t.push({username:n.encrypt(a),password:n.encrypt(r),hostname:n.encrypt(c),port:n.encrypt(d),path:u&&n.encrypt(u),id:l||o.a.uuid()}),localStorage.setItem("ftpaccounts",JSON.stringify(t)),s.innerHTML=i.a.render(p,{accounts:h()})}))}function h(){var e=[];return Array.isArray(t)&&t.map((function(t){var a=t.username,r=t.password,s=t.hostname,i=t.port,o=t.path,c=t.id;return e.push({username:n.decrypt(a),password:n.decrypt(r),hostname:n.decrypt(s),path:o&&n.decrypt(o),port:n.decrypt(i),id:c}),t})),e}function f(e){Array.isArray(t)&&(t=t.filter((function(t){return t.id!==e}))),s.innerHTML=i.a.render(p,{accounts:h()}),localStorage.setItem("ftpaccounts",JSON.stringify(t))}s.addEventListener("click",(function(t){var e=t.target;if(!(e instanceof HTMLElement))return;var a=e.getAttribute("action");if(!a)return;if("add-account"===a)v();else if("remove"===a){var n=e.parentElement;if(!n)return;var r=n.id;if(!r)return;f(r)}else if("ftp-account"===a||"edit"===a){"edit"===a&&(e=e.parentElement);var s=e.getAttribute("username"),i=e.getAttribute("password"),o=e.getAttribute("hostname"),c=e.getAttribute("port"),p=e.getAttribute("path"),d=e.id;if("edit"===a)v(s,i,o,p,c,d);else{var u=Object(l.a)(s,i,o,c,p);Object(m.a)(u.origin,{saveState:!1,reloadOnResume:!1}),actionStack.pop()}}})),a.querySelector("header").append(e),e.onclick=function(){Object(d.a)(a.querySelector(".list"))},a.append(s),app.appendChild(a),actionStack.push({id:"repos",action:a.hide}),a.onhide=function(){actionStack.remove("repos")}}}}]);